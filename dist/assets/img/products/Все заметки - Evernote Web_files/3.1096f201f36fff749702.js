(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{374:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return o});var r=n(61),a=n(461),i=function(e){return function(t,n,a,i){var u={level:e,localizationKey:t};n&&(u.localizationData=n),a&&(u.handlers=a),i&&(u.options=i),r.a.publish("message","send",u)}},u=i(a.b.INFO),o=(i(a.b.DEBUG),i(a.b.ERROR))},386:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var r=n(370),a=function(e,t){var n=e;return n.length>2*t+r.j.length&&(n=e.substr(0,t)+r.j+e.substr(e.length-t)),n},i=function(e,t){var n=e;return n.length>t&&(n=e.substr(0,t-3)+r.j),n},u=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n<r?-1:n>r?1:0}},411:function(e,t,n){"use strict";t.a=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isValid=void 0,this.message=void 0,this.validationError=void 0,this.errorData=void 0,this.isValid=t.isValid,!1===t.isValid&&(this.message=t.message,this.validationError=t.validationError,this.errorData=t.errorData)}},417:function(e,t,n){"use strict";n.r(t),n.d(t,"validateNameMinLength",function(){return g}),n.d(t,"validateNameMaxLength",function(){return h}),n.d(t,"validateNameRegex",function(){return E}),n.d(t,"validateNameIsUniqueImpl",function(){return p}),n.d(t,"validationWithoutUnique",function(){return N}),n.d(t,"validateWithoutUnique",function(){return m}),n.d(t,"createNameValidate",function(){return F});var r=n(387),a=n.n(r),i=n(56),u=n.n(i),o=n(411),s=n(435),c=n(434),f=n(386),l=a.a.EDAM_NOTEBOOK_NAME_LEN_MIN,d=a.a.EDAM_NOTEBOOK_NAME_LEN_MAX,v=/^(?:[!-~\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])((?:[ -~\xA0-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,98}(?:[!-~\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))?$/,g=function(e){var t=u.a.isString(e)&&e.length>=l;return t?new o.a({isValid:t}):new o.a({isValid:!1,message:"",validationError:"ValidationErrorMinLength",errorData:{}})},h=function(e){if(u.a.isString(e)&&e.length<=d)return new o.a({isValid:!0});var t=Object(f.c)(e,6),n='Name field "'.concat(t,'" exceeds max length ').concat(d);return new o.a({isValid:!1,message:n,validationError:"ValidationErrorMaxLength",errorData:{name:e}})},E=function(e){return u.a.isString(e)&&v.test(e)?new o.a({isValid:!0}):new o.a({isValid:!1,message:'Name field "'.concat(e,'" does not pass validation regex'),validationError:"ValidationErrorRegex",errorData:{name:e}})},p=function(e,t,n){return n||u.a.isArray(t)&&u.a.isString(e)&&!t.includes(e)?new o.a({isValid:!0}):new o.a({isValid:!1,message:'Notebook name "'.concat(e,'" is already in use.'),validationError:"ValidationErrorNotUnique",errorData:{name:e}})},N={name:Object(s.a)(g,h,E)},m=Object(c.a)(N),F=function(e,t){var n={name:Object(s.a)(function(n){return p(n,e,t)},h,g,E)};return Object(c.a)(n)}},427:function(e,t,n){"use strict";n.d(t,"e",function(){return v}),n.d(t,"b",function(){return m}),n.d(t,"l",function(){return F}),n.d(t,"c",function(){return D}),n.d(t,"m",function(){return b}),n.d(t,"a",function(){return O}),n.d(t,"k",function(){return y}),n.d(t,"d",function(){return w}),n.d(t,"j",function(){return V}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return R}),n.d(t,"i",function(){return S});var r=n(56),a=n.n(r),i=n(371),u=n(386),o=n(374);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,a,i,u){try{var o=e[i](u),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function u(e){c(i,r,a,u,o,"next",e)}function o(e){c(i,r,a,u,o,"throw",e)}u(void 0)})}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(e,t,n){e(t,{NAME:"'".concat(Object(u.b)(n,15),"'")})}var v=function(e,t){if(!t)return-1;var n=l(JSON.parse(t),2),r=n[0],i=n[1],u=-1;return e.forEach(function(e,t){var n=JSON.parse(e);if(a.a.isArray(n)){var o=l(n,2),s=o[0],c=o[1];s===r&&c===i&&(u=t)}}),u},g=function(){var e=f(regeneratorRuntime.mark(function e(t,n,r){var u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.getPreferences(["evernote.shortcuts"]);case 3:if(u=e.sent,s=a.a.get(u,["preferences","evernote.shortcuts"],[]),!(v(s,t)>=0)){e.next=7;break}return e.abrupt("return");case 7:return s[0]=JSON.stringify({updated:Date.now()}),(c=v(s,r))>0?s.splice(c,0,t):s.push(t),e.next=12,i.a.updatePreferences({"evernote.shortcuts":s},["evernote.shortcuts"]);case 12:d(o.b,"Message.addShortcut.success",n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),d(o.a,"Message.addShortcut.failure",n);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=f(regeneratorRuntime.mark(function e(t,n){var r,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.getPreferences(["evernote.shortcuts"]);case 3:if(r=e.sent,u=a.a.get(r,["preferences","evernote.shortcuts"],[]),s=JSON.stringify({updated:Date.now()}),!((c=v(u,t))<0)){e.next=10;break}return d(o.a,"Message.removeShortcut.failure",n),e.abrupt("return");case 10:return u[0]=s,u.splice(c,1),e.next=14,i.a.updatePreferences({"evernote.shortcuts":u},["evernote.shortcuts"]);case 14:d(o.b,"Message.removeShortcut.success",n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),d(o.a,"Message.removeShortcut.failure",n);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=f(regeneratorRuntime.mark(function e(t,n,r){var u,s,c,f,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.getPreferences(["evernote.shortcuts"]);case 3:if(u=e.sent,s=a.a.get(u,["preferences","evernote.shortcuts"],[]),c=v(s,t),f=n?v(s,n):-1,!(c<1||0===f)){e.next=9;break}return e.abrupt("return");case 9:return s[0]=JSON.stringify({updated:Date.now()}),-1===f?(s.splice(c,1),s.push(t)):(s.splice(f,0,t),l=f<c?c+1:c,s.splice(l,1)),e.next=13,i.a.updatePreferences({"evernote.shortcuts":s},["evernote.shortcuts"]);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),d(o.a,"Message.moveShortcut.failure",r);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=f(regeneratorRuntime.mark(function e(t){var n,r,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getPreferences(["evernote.shortcuts"]);case 2:if(n=e.sent,r=a.a.get(n,["preferences","evernote.shortcuts"],[]),u=JSON.stringify({updated:Date.now()}),o=r.filter(function(e){for(var n=0;n<t.length;n++)if(e.includes(t[n]))return!1;return!0}),a.a.isEqual(r,o)){e.next=10;break}return o[0]=u,e.next=10,i.a.updatePreferences({"evernote.shortcuts":o},["evernote.shortcuts"]);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),N=function(e){if(!e)return null;var t=[e.type];switch(e.type){case"Note":t.push(e.noteGuid);break;case"Notebook":t.push(e.notebookGuid);break;case"Stack":t.push(e.stackName)}return t},m=function(e,t){var n=t?JSON.stringify(N(t)):null;g(JSON.stringify(["Notebook",e.guid]),e.name||"",n)},F=function(e){h(JSON.stringify(["Notebook",e.guid]),e.name||"")},D=function(e){g(JSON.stringify(["Stack",e]),e,null)},b=function(e){h(JSON.stringify(["Stack",e]),e)},O=function(){var e=f(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n?JSON.stringify(N(n)):null,e.next=3,g(JSON.stringify(["Note",t.guid]),t.title||"",r);case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){h(JSON.stringify(["Note",e.guid]),e.title||"")},w=function(e){var t=e.map(function(e){return JSON.stringify(["Notebook",e])});p(t)},V=function(e,t,n){var r=N(t),a=r?JSON.stringify(r):null;E(JSON.stringify(N(e)),a,n)},M=function(e,t){return!!e[t]},x=function(e){return"object"===s(e)&&"Note"===e.type},R=function(e){return"object"===s(e)&&"Notebook"===e.type},S=function(e){return"object"===s(e)&&"Stack"===e.type}},434:function(e,t,n){"use strict";var r=n(411);t.a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];return Object.keys(t).forEach(function(r){var a=e[r];if(void 0!==a&&"function"==typeof a){var i=a.call(null,t[r]);!1===i.isValid&&n.push(i)}}),n.length>0?n[0]:new r.a({isValid:!0})}}},435:function(e,t,n){"use strict";var r=n(411);t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0;n<t.length;n++){var a=t[n].call(null,e);if(!1===a.isValid)return a}return new r.a({isValid:!0})}}},461:function(e,t,n){"use strict";var r,a;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a}),function(e){e.DEBUG="MessageLevel_DEBUG",e.INFO="MessageLevel_INFO",e.ERROR="MessageLevel_ERROR"}(r||(r={})),function(e){e.GENERIC_MINIVAN_ERROR="message/GENERIC_MINIVAN_ERROR",e.NO_CONNECTION="message/NO_CONNECTION",e.CONNECTION_RESTORED="message/CONNECTION_RESTORED",e.CLIENT_ERROR="message/CLIENT_ERROR",e.CLIENT_MESSAGE="message/CLIENT_MESSAGE"}(a||(a={}))},462:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n(387),a=n.n(r),i=n(411),u=n(435),o=n(434),s=n(386),c=a.a.EDAM_NOTE_TITLE_LEN_MIN,f=a.a.EDAM_NOTE_TITLE_LEN_MAX,l=new RegExp("^\\s|\\s$"),d=function(e){return e.length>=c?new i.a({isValid:!0}):new i.a({isValid:!1,message:{key:"Note.ValidationFailed.MinLength",variableMap:{TITLE:e,MIN_LENGTH:c}},validationError:"ValidationErrorMinLength",errorData:{title:e}})},v=function(e){if(e.length<=f)return new i.a({isValid:!0});var t=Object(s.c)(e,10);return new i.a({isValid:!1,message:{key:"Note.ValidationFailed.MaxLength",variableMap:{TITLE:e,MAX_LENGTH:f}},validationError:"ValidationErrorMaxLength",errorData:{title:t}})},g={title:Object(u.a)(d,v,function(e){return l.test(e)?new i.a({isValid:!1,message:{key:"Note.ValidationFailed",variableMap:{TITLE:e}},validationError:"ValidationErrorRegex",errorData:{title:e}}):new i.a({isValid:!0})})},h=(Object(o.a)(g),{title:Object(u.a)(d,v)}),E=Object(o.a)(h)},469:function(e,t,n){"use strict";n.r(t),n.d(t,"validateNameMinLength",function(){return l}),n.d(t,"validateNameMaxLength",function(){return d}),n.d(t,"validateNameRegex",function(){return v}),n.d(t,"validation",function(){return g}),n.d(t,"createNameValidate",function(){return h}),n.d(t,"validate",function(){return E});var r=n(387),a=n.n(r),i=n(411),u=n(435),o=n(434),s=a.a.EDAM_TAG_NAME_LEN_MIN,c=a.a.EDAM_TAG_NAME_LEN_MAX,f=new RegExp("^\\s|\\s$"),l=function(e){return e.length>=s?new i.a({isValid:!0}):new i.a({isValid:!1,message:'Tag name field "'.concat(e,'" must have min length ').concat(s),validationError:"ValidationErrorMinLength",errorData:{name:e}})},d=function(e){return e.length<=c?new i.a({isValid:!0}):new i.a({isValid:!1,message:'Tag name field "'.concat(e,'" exceeds max length ').concat(c),validationError:"ValidationErrorMaxLength",errorData:{name:e}})},v=function(e){return f.test(e)?new i.a({isValid:!1,message:'Tag name field "'.concat(e,'" does not pass validation regex'),validationError:"ValidationErrorRegex",errorData:{name:e}}):new i.a({isValid:!0})},g={name:Object(u.a)(d,l,v)},h=function(e){var t={name:Object(u.a)(function(t){return function(e,t){return e.some(function(e){return e.toLocaleLowerCase()===t})?new i.a({isValid:!1,message:"Tag name already present.",validationError:"ValidationErrorNotUnique",errorData:{name:t}}):new i.a({isValid:!0})}(e,t)},d,l,v)};return Object(o.a)(t)},E=Object(o.a)(g)},502:function(e,t,n){"use strict";n(462);var r=n(417);n.d(t,"a",function(){return r});var a=n(469);n.d(t,"b",function(){return a})}}]);